<!-- Header -->
<h1 class="header">Add or Edit Employee</h1>

<!-- Search bar -->
<div class="search-container">
  <span class="search-icon">
    <i class="pi pi-search"></i>
  </span>
  <input type="text" class="search-input" [(ngModel)]="searchQuery" (input)="onSearch()" placeholder="Search by name">
</div>

<!-- Plus button for adding new employee -->
<div class="add-button-container">
  <button pButton pRipple type="button" icon="pi pi-plus" class="add-button" (click)="addEmployee()"></button>
  <span class="add-button-text">Add new employee</span>
</div>

<!-- Employee List -->
<div class="employee-list-container">
  <div class="card">
    <p-dataView #dv [value]="filteredEmployees" [paginator]="true" [rows]="7" layout="list">
      <ng-template let-employee pTemplate="listItem">
        <div class="p-col-12">
          <div class="employee-item">
            <span class="employee-name">{{ employee.name }}</span>
            <button pButton pRipple type="button" icon="pi pi-pencil" class="edit-button" (click)="editEmployee(employee)"></button>
          </div>
        </div>
      </ng-template>
    </p-dataView>
  </div>
</div>

<!-- Add Employee Form -->
<div class="employee-form-container" *ngIf="showAddForm">
  <h2>Add Employee</h2>
  <form (ngSubmit)="saveNewEmployee()">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" [(ngModel)]="newEmployee.name" name="name" required>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email" [(ngModel)]="newEmployee.email" name="email" required>
    </div>
    <div class="form-group">
      <label for="department">Department</label>
      <input type="text" class="form-control" id="department" [(ngModel)]="newEmployee.department" name="department" required>
    </div>
    <div class="form-group">
      <label for="jobTitle">Job Title</label>
      <input type="text" class="form-control" id="jobTitle" [(ngModel)]="newEmployee.jobTitle" name="jobTitle" required>
    </div>
    <div class="form-group">
      <label for="salary">Salary</label>
      <input type="number" class="form-control" id="salary" [(ngModel)]="newEmployee.salary" name="salary" required>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
    <button type="cancel" class="btn btn-secondary" (click)="cancelAddNewEmployee()">Cancel</button>
  </form>
</div>

<div class="employee-form-container" *ngIf="showEditForm">
  <h2>Edit Employee</h2>
  <form (ngSubmit)="saveEmployeeChanges()">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" [(ngModel)]="selectedEmployee.name" name="name" required>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email" [(ngModel)]="selectedEmployee.email" name="email" required>
    </div>
    <div class="form-group">
      <label for="department">Department</label>
      <input type="text" class="form-control" id="department" [(ngModel)]="selectedEmployee.department" name="department" required>
    </div>
    <div class="form-group">
      <label for="jobTitle">Job Title</label>
      <input type="text" class="form-control" id="jobTitle" [(ngModel)]="selectedEmployee.jobTitle" name="jobTitle" required>
    </div>
    <div class="form-group">
      <label for="salary">Salary</label>
      <input type="number" class="form-control" id="salary" [(ngModel)]="selectedEmployee.salary" name="salary" required>
    </div>
    <button type="submit" class="btn btn-primary">Save Changes</button>
    <button type="cancel" class="btn btn-secondary" (click)="cancelEdit()">Cancel</button>
  </form>
</div>